{% extends 'base.html' %}
{% load static %}


{% block coluna_esquerda %}
<div class="container bg-white text-center rounded-5 d-flex flex-column" style="height: 600px;">
    <h2>Bem vindo </h2>
    <h1 style="color:blueviolet;">{{username}}</h1>
    <div class="text-center">
        <img src="{% static 'assets/profile1.png' %}" alt="Foto do perfil" class="bg-secondary" style="width: 150px; height: 150px; border-radius: 50%; border: 5px solid;">
    </div>

    <div class="container mt-4">
        <p>Barra de Progressor</p>
        <div class="progress" style="height: 20px;">
            <div id="progress-bar" class="progress-bar" role="progressbar"></div>
        </div>

        <h2 id="level-counter" class="mt-3">N√≠vel: 0</h2>

        <h2 id="badges" style="display: none;">
            <span id="badge1" style="display: none;">‚ôªÔ∏è</span>
            <span id="badge2" style="display: none;">üèÜ</span>
        </h2>

        
    </div>
    <button id="increase-btn" class="btn btn-success me-3 btn-lg mt-auto rounded-5">Adicionar Reciclagem</button>
    <a class="btn btn-warning me-3 btn-lg mt-auto mb-2 rounded-5" href="{% url 'logout' %}">Sair</a>

    <script>
        // JS para aumentar a barra de progresso e atualizar o contador
        document.addEventListener('DOMContentLoaded', function() {
            const progressBar = document.getElementById('progress-bar');
            const increaseBtn = document.getElementById('increase-btn');
            const levelCounter = document.getElementById('level-counter');
            const badges = document.getElementById('badges');
            const badge1 = document.getElementById('badge1');
            const badge2 = document.getElementById('badge2'); 

            let currentLevel = 0;

            increaseBtn.addEventListener('click', function() {
                // Obter a largura atual da barra de progresso
                let currentWidth = parseInt(progressBar.style.width) || 0;

                // Aumentar a barra em 10%
                if (currentWidth < 100) {
                    currentWidth += 10;
                    progressBar.style.width = currentWidth + '%';
                }

                if (currentWidth >= 100) {
                    currentLevel++; 
                    levelCounter.textContent = 'N√≠vel: ' + currentLevel; 
                    progressBar.style.width = '0'; // Reseta a barra de progresso

                    if (currentLevel === 2) {
                        badge1.style.display = 'inline'; // Exibe o emoji de reciclagem
                        badges.style.display = 'block';
                    }
                    
                    if (currentLevel === 3) {
                        badge2.style.display = 'inline'; // Exibe o emoji de trof√©u
                    }
                }
            });
        });
    </script>
</div>
{% endblock %}

{% block conteudo %}
<div class="container bg-white text-center rounded-5 d-flex flex-column" style="height: 600px; width: 1000px;">
    <h1>Central</h1>
    <div class="text-center">
    </div>
</div>
{% endblock %}

{% block coluna_direita %}
<div class="container bg-white text-center rounded-5 d-flex flex-column" style="height: 600px;">
    <h1>essa √© a direita</h1>
    <div class="text-center">
    </div>
</div>
{% endblock %}
